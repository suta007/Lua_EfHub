local Fluent = loadstring(
	game:HttpGet("https://github.com/ActualMasterOogway/Fluent-Renewed/releases/latest/download/Fluent.luau")
)()

local Window = Fluent:CreateWindow({
	Title = "Console Log",
	SubTitle = "by EfHub",
	TabWidth = 0,
	Size = UDim2.fromOffset(1200, 768),
	Resize = true,
	-- MinSize = Vector2.new(470, 380),
	Acrylic = true,
	Theme = "Darker",
	MinimizeKey = Enum.KeyCode.RightControl,
})

local Tabs = {
	Main = Window:AddTab({ Title = "Log Console", Icon = "terminal" }),
}

Window:SelectTab(1)

------------------------------------------------------
-- 1. à¸›à¸£à¸°à¸à¸²à¸¨à¸•à¸±à¸§à¹à¸›à¸£à¸£à¸°à¸šà¸š (à¸ˆà¸­à¸‡à¸—à¸µà¹ˆà¹„à¸§à¹‰à¸à¹ˆà¸­à¸™)
------------------------------------------------------
local MaxLines = 100 -- à¸ˆà¸³à¸™à¸§à¸™à¸šà¸£à¸£à¸—à¸±à¸”à¸—à¸µà¹ˆà¸ˆà¸°à¹‚à¸Šà¸§à¹Œ
local MaxFullHistory = 1000 -- à¸ˆà¸³à¸™à¸§à¸™à¸šà¸£à¸£à¸—à¸±à¸”à¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¸‚à¸­à¸‡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
local DisplayTable = {} -- à¸•à¸²à¸£à¸²à¸‡à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹‚à¸Šà¸§à¹Œ
local FullHistoryTable = {} -- à¸•à¸²à¸£à¸²à¸‡à¹€à¸à¹‡à¸šà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
local IsPaused = false

-- [à¸ªà¸³à¸„à¸±à¸] à¸›à¸£à¸°à¸à¸²à¸¨à¸•à¸±à¸§à¹à¸›à¸£ LogDisplay à¹„à¸§à¹‰à¸à¹ˆà¸­à¸™ à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸›à¸¸à¹ˆà¸¡à¸£à¸¹à¹‰à¸ˆà¸±à¸à¸•à¸±à¸§à¹à¸›à¸£à¸™à¸µà¹‰
local LogDisplay = nil

------------------------------------------------------
-- 2. à¸ªà¸£à¹‰à¸²à¸‡à¸›à¸¸à¹ˆà¸¡à¸„à¸§à¸šà¸„à¸¸à¸¡ (à¸­à¸¢à¸¹à¹ˆà¸”à¹‰à¸²à¸™à¸šà¸™)
------------------------------------------------------

-- à¸›à¸¸à¹ˆà¸¡à¸«à¸¢à¸¸à¸” (Pause)
Tabs.Main:AddToggle("PauseSwitch", {
	Title = "Pause Logging",
	Default = false,
	Callback = function(Value)
		IsPaused = Value
	end,
})

-- à¸›à¸¸à¹ˆà¸¡ Copy All
Tabs.Main:AddButton({
	Title = "Copy All Logs",
	--Description = "à¸„à¸±à¸”à¸¥à¸­à¸à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸¥à¸‡ Clipboard",
	Callback = function()
		if setclipboard then
			setclipboard(table.concat(FullHistoryTable, "\n"))
			Fluent:Notify({ Title = "Success", Content = "Copied all logs!", Duration = 2 })
		else
			Fluent:Notify({ Title = "Error", Content = "Executor not supported", Duration = 2 })
		end
	end,
})

-- à¸›à¸¸à¹ˆà¸¡ Clear
Tabs.Main:AddButton({
	Title = "Clear Logs",
	Callback = function()
		DisplayTable = {}
		FullHistoryTable = {}
		if LogDisplay then
			LogDisplay:SetValue("") -- à¸•à¸­à¸™à¸™à¸µà¹‰à¸›à¸¸à¹ˆà¸¡à¸ˆà¸°à¸£à¸¹à¹‰à¸ˆà¸±à¸ LogDisplay à¹à¸¥à¹‰à¸§
		end
	end,
})

------------------------------------------------------
-- 3. à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸™à¹‰à¸²à¸ˆà¸­à¹à¸ªà¸”à¸‡à¸œà¸¥ (à¸­à¸¢à¸¹à¹ˆà¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡)
------------------------------------------------------

-- à¸ªà¸£à¹‰à¸²à¸‡ Paragraph à¹à¸¥à¹‰à¸§à¹€à¸­à¸²à¹„à¸›à¹ƒà¸ªà¹ˆà¹ƒà¸™à¸•à¸±à¸§à¹à¸›à¸£à¸—à¸µà¹ˆà¸ˆà¸­à¸‡à¹„à¸§à¹‰
LogDisplay = Tabs.Main:AddParagraph("LogDisplay", {
	Title = "Recent Logs",
	Content = "System initialized...",
})

------------------------------------------------------
-- 4. à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ AddLog
------------------------------------------------------
local function AddLog(message)
	if IsPaused then
		return
	end
	local entry = message
	-- à¹€à¸à¹‡à¸šà¸¥à¸‡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
	table.insert(FullHistoryTable, entry)
	if #FullHistoryTable > MaxFullHistory then
		table.remove(FullHistoryTable, 1)
	end

	-- à¹€à¸à¹‡à¸šà¸¥à¸‡à¸•à¸²à¸£à¸²à¸‡à¹à¸ªà¸”à¸‡à¸œà¸¥ (à¸ˆà¸³à¸à¸±à¸”à¸šà¸£à¸£à¸—à¸±à¸”)
	table.insert(DisplayTable, entry)
	if #DisplayTable > MaxLines then
		table.remove(DisplayTable, 1)
	end

	-- à¸­à¸±à¸›à¹€à¸”à¸•à¸«à¸™à¹‰à¸²à¸ˆà¸­
	if LogDisplay then
		local TempText = ""
		TempText = table.concat(DisplayTable, "\n")
		LogDisplay:SetValue(TempText)
	end
end
------------------------------------------------------
-- 5. [NEW] à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸ªà¸£à¸´à¸¡ (Wrapper Functions) à¸—à¸µà¹ˆà¸žà¸µà¹ˆà¹€à¸­à¸Ÿà¸•à¹‰à¸­à¸‡à¸à¸²à¸£
------------------------------------------------------
local function InfoLog(message)
	AddLog("ðŸ“‹ " .. message)
end

local function WarnLog(message)
	AddLog("âš ï¸ " .. message)
end

local function ErrorLog(message)
	AddLog("âŒ " .. message)
end

local function SuccessLog(message)
	AddLog("âœ… " .. message)
end

local function TimeLog(message)
	local timestamp = os.date("%X")
	local entry = string.format("[%s] %s", timestamp, message)
	AddLog(entry)
end
------------------------------------------------------
-- 6. Test Loop (à¸—à¸”à¸ªà¸­à¸šà¸”à¸¹à¸„à¸§à¸²à¸¡à¸ªà¸§à¸¢à¸‡à¸²à¸¡)
------------------------------------------------------
InfoLog("Script initialized successfully.")
task.wait(0.5)

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local DataService = require(ReplicatedStorage.Modules.DataService)
local GetData_result = DataService:GetData()

local PlantData = GetData_result.CropMastery.PlantData
local function ShowData(tbl, indent)
	local lclIndent = indent or 0
	local spacing = string.rep("  ", lclIndent)
	for k, v in pairs(tbl) do
		if type(v) == "table" then
			AddLog(spacing .. "[" .. tostring(k) .. "] : (Table)")
			ShowData(v, lclIndent + 1)
		else
			AddLog(spacing .. "[" .. tostring(k) .. "] : " .. tostring(v))
		end
		--return
	end
end
--ShowData(PlantData, 1)


local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GameEvents = ReplicatedStorage:WaitForChild("GameEvents")

local ActivePetsService = require(ReplicatedStorage.Modules.PetServices.ActivePetsService)

local LocalPlayer = game:GetService("Players").LocalPlayer
local Backpack = LocalPlayer:WaitForChild("Backpack")

local GetRawPetData , GetPetFavorite, MakePetFavorite, MakePetUnfavorite


GetRawPetData = function(uuid)
	local success, result = pcall(function()
		-- à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸ªà¹ˆà¸‡ Name à¸•à¸²à¸¡à¸—à¸µà¹ˆà¹€à¸£à¸²à¹à¸à¸°à¹„à¸”à¹‰
		return ActivePetsService:GetPetData(LocalPlayer.Name, uuid)
	end)

	if success and result then
		return result -- à¸„à¸·à¸™à¸„à¹ˆà¸² Table à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸à¸¥à¸±à¸šà¹„à¸›
	end
	return nil
end

GetPetFavorite = function(uuid)
	local data = GetRawPetData(uuid)
	if data and data.PetData then
		local Favorited = data.PetData.IsFavorite
		if Favorited then
			return Favorited
		end
	end
	return nil
end

MakePetFavorite = function(uuid)
	local timeout = 3 -- à¸£à¸­à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 3 à¸§à¸´à¸™à¸²à¸—à¸µ
	local startTime = tick()
	if not GetPetFavorite(uuid) then
		repeat
			for _, item in ipairs(Backpack:GetChildren()) do
				if item:GetAttribute("ItemType") == "Pet" and item:GetAttribute("PET_UUID") == uuid then
					local args = {
						item
					}
					GameEvents:WaitForChild("Favorite_Item"):FireServer(unpack(args))

					task.wait(0.3) -- à¸£à¸­à¹ƒà¸«à¹‰à¸–à¸·à¸­à¸•à¸´à¸”
					return true
				end
			end
			task.wait(0.2)
		until tick() - startTime > timeout
	end
	return false
end

MakePetUnfavorite = function(uuid)
	local timeout = 3 -- à¸£à¸­à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 3 à¸§à¸´à¸™à¸²à¸—à¸µ
	local startTime = tick()
	if GetPetFavorite(uuid) then
		repeat
			for _, item in ipairs(Backpack:GetChildren()) do
				if item:GetAttribute("ItemType") == "Pet" and item:GetAttribute("PET_UUID") == uuid then
					local args = {
						item
					}
					GameEvents:WaitForChild("Favorite_Item"):FireServer(unpack(args))

					task.wait(0.3) -- à¸£à¸­à¹ƒà¸«à¹‰à¸–à¸·à¸­à¸•à¸´à¸”
					return true
				end
			end
			task.wait(0.2)
		until tick() - startTime > timeout
	end
	return false
end

local pUUID= "{1e61fc9a-d1f4-4513-bb6b-de543547c8e1}"

--MakePetFavorite(pUUID)
MakePetUnfavorite(pUUID)